<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>定时器按钮</title>
    <link rel="stylesheet" href="./timer-button.css">

</head>

<body>
    <input id="add" type="button" value="添加定时器按钮">
    
    <br>
    初始状态：<input type="radio" name="a" value="q" checked>启用
    <input type="radio" name="a" value="j">禁用
    <br>
    禁用时长：<input type="text" id="time" value="6">
    <br>
    按钮文字：<input type="text" id="code" value="发送验证码">
    <br>
    事件代码：<input type="text" id="event" value="console.log('点击了定时器按钮！')">
    <hr>
    <div id="main">
    </div>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="./timer-button.js"></script>
    <script>
        $(function () {
            var $btnAdd = $('#add');
            $btnAdd.click(function () {
                var choose = $("input[type='radio'][name='a']:checked").val();
                console.log(choose);
                if (choose == "q") {
                    $timerButton.sshow({
                        num: parseInt($('#time').val()),
                        title: $('#code').val(),
                        onClick: function () {
                            $('#event').val()
                        }
                    });
                }
                else if (choose == "j") {
                    $timerButton.show({
                        num: parseInt($('#time').val()),
                        title: $('#code').val(),
                        onClick: function () {
                            $('#event').val()
                        }
                    });
                }

                console.log('add');
            })
        })
    </script>
</body>

</html>